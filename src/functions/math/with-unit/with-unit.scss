@use 'sass:map';
@use 'sass:math';
@use 'sass:meta';
@use '../get-numeric/get-numeric.scss' as *;
@use '../../../variables' as vars;

/**
 * Sets default unit for a given unitless number.
 * 
 * @param    {number}    $value          The input value.
 * @param    {string}    $unit ['px']    Default unit (one of valid CSS units).
 * 
 * @return   {number}    Original number converted to a given unit.
 */
@function with-unit($value, $unit: 'px') {
	$numval: if(meta.type-of($value) == 'number', $value, get-numeric($value));

	@if (meta.type-of($numval) != 'number') {
		@return $value;
	}

	@if (math.is-unitless($numval)) {
		@return $numval * map.get(vars.$units, if(map.has-key(vars.$units, $unit), $unit, 'px'));
	}

	@return $numval;
}
